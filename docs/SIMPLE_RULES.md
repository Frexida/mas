# MAS 通信ルール（簡易版）

## 基本ルール（これだけ覚えろ）

### 🎯 たった3つのルール

1. **ワーカー(11-33) → メタマネージャー(00)** ❌ **絶対禁止**
2. **マネージャー同士の横通信** ❌ **絶対禁止**
3. **異なるユニットのワーカー間通信** ❌ **絶対禁止**

### ✅ 許可される通信

```
メタマネージャー(00)
    ↕️
各ユニットマネージャー(10/20/30)
    ↕️
自分のワーカー(11-13/21-23/31-33)
    ↔️
同じユニットのワーカー
```

## 新しいコマンド形式

```bash
# 新形式（推奨）
mas send <送信元ID> <送信先ID> "メッセージ"

# 例
mas send 11 10 "デザイン完了"     # ✅ OK: ワーカー→自分のマネージャー
mas send 11 00 "報告します"       # ❌ NG: ワーカー→メタマネージャー（違反！）
mas send 11 12 "レビューお願い"    # ✅ OK: 同じユニット内のワーカー
mas send 11 21 "協力お願い"       # ❌ NG: 別ユニットのワーカー（違反！）
```

## 誰が誰に送れるか

| 送信元 | 送信可能な相手 |
|--------|---------------|
| **00 (メタ)** | 10, 20, 30 のみ |
| **10 (デザインMgr)** | 00, 11, 12, 13 のみ |
| **11 (UI)** | 10, 12, 13 のみ |
| **12 (UX)** | 10, 11, 13 のみ |
| **13 (Visual)** | 10, 11, 12 のみ |
| **20 (開発Mgr)** | 00, 21, 22, 23 のみ |
| **21 (Frontend)** | 20, 22, 23 のみ |
| **22 (Backend)** | 20, 21, 23 のみ |
| **23 (DevOps)** | 20, 21, 22 のみ |
| **30 (ビジネスMgr)** | 00, 31, 32, 33 のみ |
| **31 (会計)** | 30, 32, 33 のみ |
| **32 (戦略)** | 30, 31, 33 のみ |
| **33 (分析)** | 30, 31, 32 のみ |

## よくある違反と対処法

### ❌ 違反例1: ワーカーが焦って直接報告
```bash
# 間違い
mas send 11 00 "緊急です！"

# 正しい方法
mas send 11 10 "緊急: XXの問題が発生"  # まず自分のマネージャーへ
```

### ❌ 違反例2: マネージャー同士で調整しようとする
```bash
# 間違い
mas send 10 20 "開発の進捗はどう？"

# 正しい方法
mas send 10 00 "開発ユニットの進捗確認をお願いします"  # メタ経由で
```

### ❌ 違反例3: 別ユニットのワーカーに直接依頼
```bash
# 間違い
mas send 11 21 "このUIを実装して"

# 正しい方法
mas send 11 10 "フロントエンド実装の依頼をお願いします"  # マネージャー経由
```

## なぜこのルールが必要か

1. **責任の明確化**: 誰が何を決定したか追跡可能
2. **情報の整理**: マネージャーが情報を集約・整理
3. **混乱の防止**: 勝手な横連携による矛盾を防ぐ
4. **効率化**: 適切な階層で判断・調整

## 覚え方

「**上司を飛ばすな、横に行くな、ユニット外に出るな**」

これだけ覚えれば、99%の通信ミスは防げる。